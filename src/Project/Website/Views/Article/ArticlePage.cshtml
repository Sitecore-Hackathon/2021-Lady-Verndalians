@using Website.Extensions
@model Feature.Articles.Models.ArticleModel



@if (Model == null)
{
    return;
}

@Html.HumanizedImage(Model.HeroImage)

<h1>
    @Html.Raw(Model.ArticleItem.Name)
</h1>
Author : @Html.Raw(Model.Author)
Date : @Html.Raw(Model.Date)
@Html.Raw(Model.ArticleContent)

<!-- Modal HTML embedded directly into document -->
<div id="ex1" class="modal">
    <h2>Humanize Project</h2>
    <form id="Form1" method="post">
        <fieldset style="border: none;">
            <label for="venmo-account">Add your Venmo Account so we can pay you!</label>
            <input style="display: block;" type="text" name="venmo-account" id="venmo-acct" />
        </fieldset>
        <fieldset style="border: none;">
            <label for="manual-entry">Enter an appropriate phrase for this image</label>
            <input style="display: block;" type="text" name="manual-entry" required id="input-text" />
        </fieldset>
        <button id="submit-tag-choice">Submit</button>
    </form>
    <a href="#" rel="modal:close">Close</a>
</div>

@{
    var heroMediaId = Model.HeroImage.MediaID;
}
<script type="text/javascript">
    $('#submit-tag-choice').click(function(event) {
        event.preventDefault();
        this.blur();

        var option = $('#input-text').val();
        var id = '@heroMediaId';

        $.ajax({
            url: '/api/sitecore/Ajax/AddCrowdSourceChoice',
            method: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            //method: "POST",
            data: JSON.stringify({
                "option": option,
                "id": id
            }),
            success: function (data) {
                alert('yay');
            }
        });
    });
</script>